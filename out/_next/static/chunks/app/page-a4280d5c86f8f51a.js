(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6723:function(e,t,s){Promise.resolve().then(s.bind(s,605))},605:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var r=s(7437),o=s(2265),a=s(7042),n=s(4769);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,a.W)(t))}var d=s(1654),i=s(6141),c=s(2549),m=s(2442),h=s(4631),u=s(4035),x=s(2882);function p(e){let{notes:t,hasIssue:s}=e;return 0===t.length?null:(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsx)("h4",{className:l("font-semibold",s?"text-red-100":"text-card-foreground"),children:"Notes:"}),t.map(e=>(0,r.jsxs)("div",{className:l("p-3 rounded-md",s?"bg-red-950/50":"bg-secondary"),children:[(0,r.jsx)("p",{className:l(s?"text-red-100":"text-secondary-foreground"),children:e.content}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.timestamp})]},e.id))]})}function g(e){let{photos:t,hasIssue:s,onDeletePhoto:o}=e;return 0===t.length?null:(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:l("font-semibold mb-2",s?"text-red-100":"text-card-foreground"),children:"Photos:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,r.jsx)("img",{src:e.thumbnail,alt:"Task photo",className:"w-24 h-24 object-cover rounded-md hover:opacity-80 transition-opacity"})}),(0,r.jsx)("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),o(e.id)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,r.jsx)(c.Z,{className:"w-4 h-4"})})]},e.id))})]})}var b=s(5187);function f(e){let{task:t,index:s,onToggleExpand:a,onToggleIssue:n,onToggleInProgress:f,onToggleComplete:j,onDeleteTask:N,onDeletePhoto:w,onAddNote:y,onSubmitNote:v,onAddPhoto:k,onUpdatePriority:C,isActiveNoteTask:P}=e,[T,I]=(0,o.useState)(""),S=(0,o.useRef)(null),F=()=>{T.trim()&&(v(t.id,T.trim()),I(""))},_=()=>{var e;null===(e=S.current)||void 0===e||e.click()};return(0,r.jsx)(b._l,{draggableId:t.id.toString(),index:s,children:(e,s)=>(0,r.jsx)("div",{ref:e.innerRef,...e.draggableProps,className:l("w-full transition-shadow mb-4",s.isDragging&&"shadow-2xl"),children:(0,r.jsx)("div",{className:l("rounded-lg shadow-lg p-4 transition-colors",t.hasIssue?"bg-red-900/90 text-white":t.completed?"bg-green-900/90 text-white":t.inProgress?"bg-blue-900/20":"bg-card"),children:(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{...e.dragHandleProps,className:l("flex items-center text-muted-foreground hover:text-foreground transition-colors cursor-grab active:cursor-grabbing",t.hasIssue&&"text-red-200 hover:text-white",t.completed&&"text-green-200 hover:text-white"),children:(0,r.jsx)(d.Z,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2 mt-1",children:[(0,r.jsx)("div",{className:l("w-6 h-6 rounded-full border-2 flex items-center justify-center","no-rush"===t.priority?"border-green-500 bg-green-500":"border-green-500/30",t.hasIssue&&"opacity-70"),children:"no-rush"===t.priority&&(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-white"})}),(0,r.jsx)("div",{className:l("w-6 h-6 rounded-full border-2 flex items-center justify-center","important"===t.priority?"border-yellow-500 bg-yellow-500":"border-yellow-500/30",t.hasIssue&&"opacity-70"),children:"important"===t.priority&&(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-white"})}),(0,r.jsx)("div",{className:l("w-6 h-6 rounded-full border-2 flex items-center justify-center","urgent"===t.priority?"border-red-500 bg-red-500":"border-red-500/30",t.hasIssue&&"opacity-70"),children:"urgent"===t.priority&&(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-white"})})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"cursor-pointer",onClick:()=>a(t.id),children:[(0,r.jsx)("h3",{className:l("font-semibold text-lg",t.hasIssue||t.completed?"text-white":"text-card-foreground"),children:t.title}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["RO #",t.roNumber]})]}),t.inProgress&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-500/20 text-blue-200 mt-2",children:[(0,r.jsx)(i.Z,{className:"w-3 h-3 mr-1"}),"In Progress"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>N(t.id),className:"text-red-500 hover:text-red-600 transition-colors",children:(0,r.jsx)(c.Z,{className:"w-5 h-5"})}),(0,r.jsx)("button",{onClick:()=>a(t.id),className:l("transition-colors",t.hasIssue?"text-red-200 hover:text-white":"text-muted-foreground hover:text-foreground"),children:(0,r.jsx)("svg",{className:l("w-6 h-6 transform transition-transform",t.expanded?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),t.expanded&&(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("p",{className:l("mt-2",t.hasIssue||t.completed?"text-gray-100":"text-muted-foreground"),children:t.description}),(0,r.jsx)(p,{notes:t.notes,hasIssue:t.hasIssue}),(0,r.jsx)(g,{photos:t.photos,hasIssue:t.hasIssue,onDeletePhoto:e=>w(t.id,e)}),P&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("textarea",{value:T,onChange:e=>I(e.target.value),placeholder:"Type your note here...",className:"w-full p-2 rounded-md bg-background text-foreground border border-border min-h-[100px]"}),(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,r.jsx)("button",{onClick:F,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Submit"}),(0,r.jsx)("button",{onClick:()=>y(""),className:"bg-secondary text-secondary-foreground px-4 py-2 rounded-md hover:bg-secondary/80 transition-colors",children:"Cancel"})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,r.jsxs)("button",{className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",onClick:()=>j(t.id),children:[(0,r.jsx)(m.Z,{className:"w-4 h-4"}),t.completed?"Not Complete":"Complete"]}),(0,r.jsxs)("button",{onClick:()=>n(t.id),className:l("flex items-center gap-2 px-4 py-2 rounded-md transition-colors",t.hasIssue?"bg-yellow-500 text-yellow-950 hover:bg-yellow-400":"bg-red-600 text-white hover:bg-red-700"),children:[(0,r.jsx)(h.Z,{className:"w-4 h-4"}),t.hasIssue?"Resolve Issue":"Issue"]}),(0,r.jsxs)("button",{onClick:()=>f(t.id),className:l("flex items-center gap-2 px-4 py-2 rounded-md transition-colors",t.inProgress?"bg-blue-400 text-blue-950 hover:bg-blue-300":"bg-blue-600 text-white hover:bg-blue-700"),children:[(0,r.jsx)(i.Z,{className:"w-4 h-4"}),t.inProgress?"Pause Work":"Start Work"]}),(0,r.jsxs)("button",{onClick:_,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4"}),"Add Photos"]}),(0,r.jsx)("input",{type:"file",ref:S,className:"hidden",accept:"image/*",multiple:!0,onChange:e=>k(t.id,e)}),(0,r.jsxs)("button",{onClick:()=>y(t.id),className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4"}),"Add Notes"]})]})]})]})]})})})})}function j(e){let{children:t,...s}=e,[a,n]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{let e=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(e),n(!1)}},[]),a)?(0,r.jsx)(b.bK,{...s,children:t}):null}function N(e){let{tasks:t,onToggleExpand:s,onToggleIssue:o,onToggleInProgress:a,onToggleComplete:n,onDeleteTask:l,onDeletePhoto:d,onAddNote:i,onSubmitNote:c,onAddPhoto:m,onUpdatePriority:h,activeNoteTask:u}=e;return(0,r.jsx)(j,{droppableId:"tasks",children:e=>(0,r.jsxs)("div",{className:"flex flex-col gap-4",...e.droppableProps,ref:e.innerRef,children:[t.map((e,t)=>(0,r.jsx)(f,{task:e,index:t,onToggleExpand:s,onToggleIssue:o,onToggleInProgress:a,onToggleComplete:n,onDeleteTask:l,onDeletePhoto:d,onAddNote:i,onSubmitNote:c,onAddPhoto:m,onUpdatePriority:h,isActiveNoteTask:u===e.id},e.id)),e.placeholder]})})}function w(e){let{isOpen:t,onClose:s,onSubmit:a}=e,[n,d]=(0,o.useState)(""),[i,m]=(0,o.useState)(""),[h,u]=(0,o.useState)(""),[x,p]=(0,o.useState)("no-rush");return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-card w-full max-w-lg rounded-lg shadow-xl p-6 m-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-card-foreground",children:"New Task"}),(0,r.jsx)("button",{onClick:s,className:"text-muted-foreground hover:text-foreground transition-colors",children:(0,r.jsx)(c.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(n,i,h,x),d(""),m(""),u(""),p("no-rush")},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"roNumber",className:"block text-sm font-medium text-card-foreground mb-1",children:"RO Number"}),(0,r.jsx)("input",{id:"roNumber",type:"text",value:n,onChange:e=>d(e.target.value),className:"w-full p-2 rounded-md bg-background text-foreground border border-border",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-card-foreground mb-1",children:"Title"}),(0,r.jsx)("input",{id:"title",type:"text",value:i,onChange:e=>m(e.target.value),className:"w-full p-2 rounded-md bg-background text-foreground border border-border",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-card-foreground mb-1",children:"Description / Notes"}),(0,r.jsx)("textarea",{id:"description",value:h,onChange:e=>u(e.target.value),className:"w-full p-2 rounded-md bg-background text-foreground border border-border min-h-[100px]",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-card-foreground mb-2",children:"Priority Level"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>p("no-rush"),className:l("flex-1 p-3 rounded-md border-2 transition-all","no-rush"===x?"border-green-500 bg-green-500/10":"border-border hover:border-green-500/50"),children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 mx-auto mb-2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Non Urgent"})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>p("important"),className:l("flex-1 p-3 rounded-md border-2 transition-all","important"===x?"border-yellow-500 bg-yellow-500/10":"border-border hover:border-yellow-500/50"),children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mx-auto mb-2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Semi Urgent"})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>p("urgent"),className:l("flex-1 p-3 rounded-md border-2 transition-all","urgent"===x?"border-red-500 bg-red-500/10":"border-border hover:border-red-500/50"),children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 mx-auto mb-2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Very Urgent"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 rounded-md bg-secondary text-secondary-foreground hover:bg-secondary/80 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-md bg-yellow-400 text-yellow-950 hover:bg-yellow-300 transition-all shadow-[0_0_15px_rgba(250,204,21,0.5)] hover:shadow-[0_0_25px_rgba(250,204,21,0.7)] font-medium",children:"Create Task"})]})]})]})}):null}var y=s(4530),v=s(4248),k=s(3116);let C="localhost"===window.location.hostname?"/api":"/tasks/api";function P(){let[e,t]=(0,o.useState)([]),[s,a]=(0,o.useState)(!0),[n,l]=(0,o.useState)(!1),[d,c]=(0,o.useState)(null),m=e.length,u=e.filter(e=>e.inProgress).length,x=e.filter(e=>e.hasIssue).length,p=e.filter(e=>e.completed).length;(0,o.useEffect)(()=>{g()},[]);let g=async()=>{try{a(!0);let e=await fetch("".concat(C,"/tasks.php"));if(!e.ok)throw Error("Failed to fetch tasks");let s=await e.json();t(s||[])}catch(e){console.error("Error fetching tasks:",e),alert("Failed to fetch tasks from database: "+e)}finally{a(!1)}},f=async s=>{if(!s.destination)return;let r=Array.from(e),[o]=r.splice(s.source.index,1);r.splice(s.destination.index,0,o);let a=r.map((e,t)=>({...e,position:t+1}));t(a);try{for(let e of a)await fetch("".concat(C,"/tasks.php"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(e){console.error("Failed to update task positions:",e)}},j=async e=>{try{await fetch("".concat(C,"/tasks.php"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(e){console.error("Failed to update task:",e)}},P=async s=>{try{await fetch("".concat(C,"/tasks.php?id=").concat(s),{method:"DELETE"}),t(e.filter(e=>e.id!==s))}catch(e){console.error("Failed to delete task:",e)}},T=async(s,r)=>{try{await fetch("".concat(C,"/photos.php?id=").concat(r),{method:"DELETE"}),t(e.map(e=>e.id===s?{...e,photos:e.photos.filter(e=>e.id!==r)}:e))}catch(e){console.error("Failed to delete photo:",e)}},I=async(s,r)=>{try{let o=await fetch("".concat(C,"/notes.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskId:s,content:r})});if(!o.ok){let e=await o.json();throw Error("Failed to add note: ".concat(e.error||"Unknown error"))}let a=await o.json();t(e.map(e=>e.id===s?{...e,notes:[...e.notes,{id:a.note.id,content:r,timestamp:a.note.timestamp}]}:e)),c(null)}catch(e){console.error("Failed to add note:",e),alert("Failed to save note to database: "+e)}},S=async(s,r)=>{let o=r.target.files;if(o&&0!==o.length)try{for(let r=0;r<o.length;r++){let a=o[r],n=new FormData;n.append("photo",a),n.append("taskId",s);let l=await fetch("".concat(C,"/photos.php"),{method:"POST",body:n});if(!l.ok){let e=await l.json();throw Error("Failed to upload photo: ".concat(e.error||"Unknown error"))}let d=await l.json();t(e.map(e=>e.id===s?{...e,photos:[...e.photos,{id:d.photo.id,url:d.photo.url,thumbnail:d.photo.thumbnail}]}:e))}}catch(e){console.error("Failed to upload photo:",e),alert("Failed to upload photo to database: "+e)}},F=async(s,r,o,a)=>{try{let n=await fetch("".concat(C,"/tasks.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roNumber:s,title:r,description:o,priority:a,expanded:!0,hasIssue:!1,inProgress:!1,completed:!1,position:1})});if(!n.ok){let e=await n.json();throw Error("Failed to create task: ".concat(e.error||"Unknown error"))}let d=await n.json();t([d,...e.map(e=>({...e,position:e.position+1}))]),l(!1)}catch(e){console.error("Failed to create task:",e),alert("Failed to save task to database: "+e)}};return(0,r.jsx)("div",{className:"min-h-screen bg-background p-4 md:p-6",children:(0,r.jsxs)("div",{className:"max-w-[1200px] mx-auto",children:[(0,r.jsxs)("header",{className:"mb-8",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"bg-yellow-400 text-yellow-950 p-3 rounded-lg",children:(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5C15 6.10457 14.1046 7 13 7H11C9.89543 7 9 6.10457 9 5Z",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M9 12L11 14L15 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Repair-Trac"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-1",children:"Track, Sync, and Complete Repairs Together"})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"bg-card rounded-lg p-4 shadow-md",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsx)("h2",{className:"text-xl font-semibold",children:m})}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Total Tasks"})]}),(0,r.jsxs)("div",{className:"bg-blue-900/20 rounded-lg p-4 shadow-md",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,r.jsx)(i.Z,{className:"w-5 h-5 text-blue-400"}),u]})}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"In Progress"})]}),(0,r.jsxs)("div",{className:"bg-red-900/20 rounded-lg p-4 shadow-md",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,r.jsx)(h.Z,{className:"w-5 h-5 text-red-400"}),x]})}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Issues"})]}),(0,r.jsxs)("div",{className:"bg-green-900/20 rounded-lg p-4 shadow-md",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,r.jsx)(y.Z,{className:"w-5 h-5 text-green-400"}),p]})}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Completed"})]})]}),(0,r.jsxs)("div",{className:"flex justify-center gap-4 mb-4",children:[(0,r.jsxs)("button",{onClick:()=>l(!0),className:"bg-yellow-400 text-yellow-950 rounded-lg px-4 py-2 flex items-center gap-2 hover:bg-yellow-300 transition-all shadow-[0_0_15px_rgba(250,204,21,0.5)] hover:shadow-[0_0_25px_rgba(250,204,21,0.7)] font-medium",children:[(0,r.jsx)(v.Z,{className:"w-5 h-5"}),"Add New Task"]}),(0,r.jsxs)("button",{onClick:g,className:"bg-purple-500 text-white rounded-lg px-4 py-2 flex items-center gap-2 hover:bg-purple-400 transition-all shadow-md",children:[(0,r.jsx)(k.Z,{className:"w-5 h-5"}),"Refresh"]})]})]}),s?(0,r.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-400"})}):(0,r.jsx)(b.Z5,{onDragEnd:f,children:(0,r.jsx)(N,{tasks:e,onToggleExpand:s=>{t(e.map(e=>{if(e.id===s){let t={...e,expanded:!e.expanded};return j(t),t}return e}))},onToggleIssue:s=>{t(e.map(e=>{if(e.id===s){let t={...e,hasIssue:!e.hasIssue};return j(t),t}return e}))},onToggleInProgress:s=>{t(e.map(e=>{if(e.id===s){let t={...e,inProgress:!e.inProgress};return j(t),t}return e}))},onToggleComplete:s=>{t(e.map(e=>{if(e.id===s){let t={...e,completed:!e.completed,inProgress:!1};return j(t),t}return e}))},onDeleteTask:P,onDeletePhoto:T,onAddNote:e=>{c(e===d?null:e)},onSubmitNote:I,onAddPhoto:S,onUpdatePriority:(s,r)=>{t(e.map(e=>{if(e.id===s){let t={...e,priority:r};return j(t),t}return e}))},activeNoteTask:d})}),(0,r.jsx)(w,{isOpen:n,onClose:()=>l(!1),onSubmit:F})]})})}}},function(e){e.O(0,[216,211,971,864,744],function(){return e(e.s=6723)}),_N_E=e.O()}]);